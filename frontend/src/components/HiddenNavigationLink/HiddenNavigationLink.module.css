@keyframes enter-within-bounds-left {
    from {
        transform-origin: center left;
        scale: 0 1;
        translate: -10% 0;
        opacity: 0;
    }

    to {
        transform-origin: center left;
        scale: 1 1;
        translate: 0 0;
        opacity: 1;
    }
}

@keyframes exit-within-bounds-left {
    from {
        transform-origin: center left;
        scale: 1 1;
        translate: 0 0;
        opacity: 1;
    }

    to {
        transform-origin: center left;
        scale: 0 1;
        translate: -10% 0;
        opacity: 0;
    }
}

.hiddenLink {
    composes: label-large from '../../assets/styles/mixins/typography.module.css';

    /* Custom properties */
    --height: var(--size-11);
    --width: var(--size-target);

    --border-radius: var(--border-radius-5);

    --padding-inline: var(--padding-6);
    --page-margin: var(--page-margin);
    --margin-bloc: max((var(--size-target) - var(--height)) / 2, 0px);
    --margin-inline: max((var(--size-target) - var(--width)) / 2, 0px);
    --stack-layer: var(--layer-5);

    --text-color: var(--color-on-tertiary);

    --background-color: var(--color-tertiary);

    --state-layer-opacity: 0;
    --state-layer-color: var(--text-color);

    /* Hidden link properties */
    display: grid;
    place-content: center;

    position: fixed;
    top: var(--page-margin);
    left: var(--page-margin);
    z-index: var(--stack-layer);

    min-height: var(--height);
    padding-inline: var(--padding-inline);
    margin-block: var(--margin-bloc);
    margin-inline: var(--margin-inline);

    border-radius: var(--border-radius);

    background-color: rgb(var(--background-color));
    color: rgb(var(--text-color));

    isolation: isolate;
}

/* Animating entry and exit */
.blured {
    animation-name: exit-within-bounds-left;
    animation-duration: var(--motion-duration-2);
    animation-timing-function: var(--motion-easing-emphasized-accelerate);
}

.focused {
    animation-name: enter-within-bounds-left;
    animation-duration: var(--motion-duration-6);
    animation-timing-function: var(--motion-easing-emphasized-decelerate);
}

/* Target layer */
.hiddenLink::after {
    content: '';

    position: absolute;
    top: 50%;
    left: 50%;
    translate: -50% -50%;

    min-height: var(--size-target);
    min-width: var(--size-target);
    width: 100%;
    height: 100%;

    opacity: 0;
}

/* State layer */
.hiddenLink::before {
    content: '';

    position: absolute;
    inset: 0;
    z-index: var(--layer-00);

    border-radius: var(--link-border-radius);

    background-color: rgb(
        var(--state-layer-color) / var(--state-layer-opacity)
    );

    transition: background-color var(--motion-duration-2)
        var(--motion-easing-standard);
}

/* States */
.hiddenLink:hover {
    --state-layer-opacity: var(--state-hovered-opacity);
}

.hiddenLink:active {
    --state-layer-opacity: var(--state-pressed-opacity);
}

.hiddenLink:focus-visible {
    outline: rgb(var(--color-outline-focus)) var(--size-2) solid;
    outline-offset: var(--size-1);
}
